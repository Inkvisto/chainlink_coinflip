import { type Config } from '@pnpm/config';
import { type StoreController } from '@pnpm/package-store';
import { createNewStoreController, type CreateNewStoreControllerOptions } from './createNewStoreController';
import { serverConnectionInfoDir } from './serverConnectionInfoDir';
export { createNewStoreController, serverConnectionInfoDir };
export type CreateStoreControllerOptions = Omit<CreateNewStoreControllerOptions, 'storeDir'> & Pick<Config, 'storeDir' | 'dir' | 'pnpmHomeDir' | 'useRunningStoreServer' | 'useStoreServer' | 'workspaceDir'>;
export declare function createOrConnectStoreControllerCached(storeControllerCache: Map<string, Promise<{
    ctrl: StoreController;
    dir: string;
}>>, opts: CreateStoreControllerOptions): Promise<{
    ctrl: StoreController;
    dir: string;
}>;
export declare function createOrConnectStoreController(opts: CreateStoreControllerOptions): Promise<{
    ctrl: StoreController;
    dir: string;
}>;
export declare function tryLoadServerJson(options: {
    serverJsonPath: string;
    shouldRetryOnNoent: boolean;
}): Promise<null | {
    connectionOptions: {
        remotePrefix: string;
    };
    pid: number;
    pnpmVersion: string;
}>;
