"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pickRegistryForPackage = void 0;
function pickRegistryForPackage(registries, packageName, pref) {
    const scope = getScope(packageName, pref);
    return (scope && registries[scope]) ?? registries.default;
}
exports.pickRegistryForPackage = pickRegistryForPackage;
function getScope(pkgName, pref) {
    if (pref?.startsWith('npm:')) {
        pref = pref.slice(4);
        if (pref[0] === '@') {
            return pref.substring(0, pref.indexOf('/'));
        }
    }
    if (pkgName[0] === '@') {
        return pkgName.substring(0, pkgName.indexOf('/'));
    }
    return null;
}
//# sourceMappingURL=index.js.map