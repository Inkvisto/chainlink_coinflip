import type { Codec } from '.pnpm/protons-runtime@5.0.0_uint8arraylist@2.4.3/node_modules/protons-runtime/src/codec.js'
import { writer } from '.pnpm/protons-runtime@5.0.0_uint8arraylist@2.4.3/node_modules/protons-runtime/src/utils.js'

export function encodeMessage <T> (message: T, codec: Codec<T>): Uint8Array {
  const w = writer()

  codec.encode(message, w, {
    lengthDelimited: false
  })

  return w.finish()
}
