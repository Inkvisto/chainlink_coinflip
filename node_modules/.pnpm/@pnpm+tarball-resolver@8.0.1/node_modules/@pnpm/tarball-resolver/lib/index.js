"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveFromTarball = void 0;
async function resolveFromTarball(wantedDependency) {
    if (!wantedDependency.pref.startsWith('http:') && !wantedDependency.pref.startsWith('https:')) {
        return null;
    }
    if (isRepository(wantedDependency.pref))
        return null;
    return {
        id: `@${wantedDependency.pref.replace(/^.*:\/\/(git@)?/, '').replace(':', '+')}`,
        normalizedPref: wantedDependency.pref,
        resolution: {
            tarball: wantedDependency.pref,
        },
        resolvedVia: 'url',
    };
}
exports.resolveFromTarball = resolveFromTarball;
const GIT_HOSTERS = new Set([
    'github.com',
    'gitlab.com',
    'bitbucket.org',
]);
function isRepository(pref) {
    if (pref.endsWith('/')) {
        pref = pref.slice(0, -1);
    }
    const parts = pref.split('/');
    return (parts.length === 5 && GIT_HOSTERS.has(parts[2]));
}
//# sourceMappingURL=index.js.map