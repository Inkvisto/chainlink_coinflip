"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.whichVersionIsPinned = void 0;
const semver_utils_1 = require("semver-utils");
function whichVersionIsPinned(spec) {
    const isWorkspaceProtocol = spec.startsWith('workspace:');
    if (isWorkspaceProtocol)
        spec = spec.slice('workspace:'.length);
    if (spec === '*')
        return isWorkspaceProtocol ? 'patch' : 'none';
    if (spec.startsWith('npm:')) {
        const index = spec.lastIndexOf('@');
        spec = spec.slice(index + 1);
    }
    const parsedRange = (0, semver_utils_1.parseRange)(spec);
    if (parsedRange.length !== 1)
        return undefined;
    const versionObject = parsedRange[0];
    switch (versionObject.operator) {
        case '~': return 'minor';
        case '^': return 'major';
        case undefined:
            if (versionObject.patch)
                return 'patch';
            if (versionObject.minor)
                return 'minor';
    }
    return undefined;
}
exports.whichVersionIsPinned = whichVersionIsPinned;
//# sourceMappingURL=index.js.map